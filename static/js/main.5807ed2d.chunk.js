(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{12:function(e,t,s){e.exports={birthdayBlock:"EmployeesBirthday_birthdayBlock__dYSxY",birthdaysBlock:"EmployeesBirthday_birthdaysBlock__T0Jln",listUsers:"EmployeesBirthday_listUsers__1neFq",monthsBlock:"EmployeesBirthday_monthsBlock__3sw-D"}},38:function(e,t,s){},39:function(e,t,s){},68:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s.n(r),c=s(15),n=s.n(c),i=(s(38),s(7)),o=(s(39),s(2)),u=s(10),l=s(20),d=s.n(l),h=s(31),y=s(8),b=s.n(y),j=s(32),p=s.n(j),f=s(1),m=function(e){var t=function(){var t=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(t){e.setUsers(t.data),e.setNotActiveUser(),e.sortUsers()})).catch((function(e){return console.error("Error: ".concat(e))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){e.users.length||t()}));var s=function(t){var s=t.target.value,r=t.target.name;e.setActiveUser(s,r),e.sortUsers()};return Object(f.jsxs)("div",{className:b.a.employeesBlock,children:[Object(f.jsx)("h1",{children:"Employees"}),Object(f.jsx)("div",{className:b.a.employeesBlockData,children:e.sortedUsersByAlphabet.map((function(e){return Object.entries(e).map((function(e){return Object(f.jsxs)("div",{className:b.a.usersBlockByLetter,children:[Object(f.jsx)("h2",{children:e[0]}),"string"===typeof e[1]?Object(f.jsx)("h3",{children:e[1]}):e[1].map((function(e){return Object(f.jsxs)("div",{className:b.a.userBlock,children:[Object(f.jsxs)("h3",{className:"true"===e.radioValue?b.a.activeUser:"",children:[e.firstName," ",e.lastName]}),Object(f.jsxs)("div",{className:b.a.radioButtons,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"radio",value:"false",name:e.id,onChange:s,checked:"false"===e.radioValue}),"not active"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"radio",value:"true",name:e.id,onChange:s,checked:"true"===e.radioValue}),"active"]})]})]},e.id)}))]})}))}))})]})},v=s(16),O=s(3),B="SET_NOT_ACTIVE_USER",U="SET_ACTIVE_USER",g="SET_USERS",_="SORT_USERS",x={users:[],sortedUsersByAlphabet:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{radioValue:"false"})}))});case U:return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)(Object(O.a)({},e),{},{radioValue:t.value}):e}))});case g:return Object(O.a)(Object(O.a)({},e),{},{users:t.users});case _:e.sortedUsersByAlphabet=[];var s=Array.from(Array(26)).map((function(e,t){return t+65})),r=s.map((function(e){return String.fromCharCode(e)}));return r.forEach((function(t){var s=t,r={};r[s]=[],e.users.forEach((function(e){s===e.firstName[0]&&r[s].push(e)})),0===r[s].length&&(r[s]="No employees"),e.sortedUsersByAlphabet.push(r)})),Object(O.a)(Object(O.a)({},e),{},{sortedUsersByAlphabet:Object(v.a)(e.sortedUsersByAlphabet)});default:return e}},E=Object(u.b)((function(e){return{users:e.employeesPage.users,sortedUsersByAlphabet:e.employeesPage.sortedUsersByAlphabet}}),(function(e){return{setUsers:function(t){e(function(e){return{type:g,users:e}}(t))},setActiveUser:function(t,s){e(function(e,t){return{type:U,value:e,userId:t}}(t,s))},sortUsers:function(){var t;e({type:_,users:t})},setNotActiveUser:function(){e({type:B})}}}))(m),k=s(12),S=s.n(k),N=function(e){var t=e.users;Object(r.useEffect)((function(){var s;s=t,e.setActiveBirthdayUSers(s),e.sortActiveBirthdayUsers()}),[t]);var s=function(e){var t=new Date(e),s=t.getDate(),r=t.getFullYear(),a=t.getMonth();return 12===a&&(a=0),"".concat(s," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a],", ").concat(r," year")};return Object(f.jsxs)("div",{className:S.a.birthdayBlock,children:[Object(f.jsx)("h1",{children:"Employees birthday"}),Object(f.jsx)("div",{className:S.a.birthdaysBlock,children:0===e.activeUsersBirthday.length?Object(f.jsx)("p",{children:"Employees List is empty"}):e.sortedActiveUsersBirthday.map((function(e){return Object.entries(e).map((function(e){return Object(f.jsxs)("div",{className:S.a.monthsBlock,children:[Object(f.jsx)("h3",{children:e[0]}),"string"===typeof e[1]?Object(f.jsx)("p",{children:e[1]}):Object(f.jsx)("ul",{children:e[1].sort((function(e,t){return e.lastName.localeCompare(t.lastName)})).map((function(e){return Object(f.jsxs)("li",{className:S.a.listUsers,children:[e.lastName," ",e.firstName," - ",s(e.dob)]},e.id)}))},e.id)]},e.id)}))}))})]})},T="SET_ACTIVE_BIRTHDAY_USERS",D="SORT_ACTIVE_BIRTHDAY_USERS",C=["January","February","March","April","May","June","July","August","September","October","November","December"],I={activeUsersBirthday:[],sortedActiveUsersBirthday:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(O.a)(Object(O.a)({},e),{},{activeUsersBirthday:t.users.filter((function(e){return"true"===e.radioValue}))});case D:var s,r=new Date,a=r.getMonth(),c=[];return C.forEach((function(e,t){C[a]!==e?c.push(e):s=C.slice(t).concat(c)})),e.sortedActiveUsersBirthday=[],s.forEach((function(t){var s={};s[t]=[],e.activeUsersBirthday.sort((function(e,t){return new Date(e.dob)-new Date(t.dob)})).forEach((function(e){var r=new Date(e.dob).getMonth();t===C[r]&&s[t].push(e)})),0===s[t].length&&(s[t]="No employees"),e.sortedActiveUsersBirthday.push(s)})),Object(O.a)(Object(O.a)({},e),{},{sortedActiveUsersBirthday:Object(v.a)(e.sortedActiveUsersBirthday)});default:return e}},R=Object(u.b)((function(e){return{users:e.employeesPage.users,activeUsersBirthday:e.employeesBirthdayPage.activeUsersBirthday,sortedActiveUsersBirthday:e.employeesBirthdayPage.sortedActiveUsersBirthday}}),(function(e){return{setActiveBirthdayUSers:function(t){e(function(e){return{type:T,users:e}}(t))},sortActiveBirthdayUsers:function(){e({type:D})}}}))(N);var J=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(o.f)();return Object(r.useEffect)((function(){c("/employees"),s||a(!0)}),[s,c]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(E,{}),Object(f.jsx)(R,{})]})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,69)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,n=t.getTTFB;s(e),r(e),a(e),c(e),n(e)}))},V=s(18),F=s(33),M=s(21),Y=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),L=Object(M.a)({employeesPage:A,employeesBirthdayPage:w}),Q=Object(M.b)(L,Y);Q.subscribe(Object(F.throttle)((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(s){}}({employeesPage:Q.getState().employeesPage})}),1e3));var H=Q;n.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(V.a,{children:Object(f.jsx)(u.a,{store:H,children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"https://valensiaa.github.io/test-task-Yalantis-React.js//",element:Object(f.jsx)(J,{})}),Object(f.jsx)(o.a,{exact:!0,path:"https://valensiaa.github.io/test-task-Yalantis-React.js//employees",element:Object(f.jsx)(J,{})})]})})})}),document.getElementById("root")),P()},8:function(e,t,s){e.exports={usersBlockByLetter:"Employees_usersBlockByLetter__2b-Qu",activeUser:"Employees_activeUser__3-AKT",userBlock:"Employees_userBlock__3IpUy",employeesBlockData:"Employees_employeesBlockData___jFMV",employeesBlock:"Employees_employeesBlock__30otQ",radioButtons:"Employees_radioButtons__TgKCQ"}}},[[68,1,2]]]);
//# sourceMappingURL=main.5807ed2d.chunk.js.map